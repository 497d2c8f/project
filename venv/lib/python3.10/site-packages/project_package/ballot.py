from Crypto.Random import get_random_bytes
from .check  import check_data_type, check_bytes_length
from .hash_data import HASH_LENGTH


class Ballot:

	def __init__(self, v_id, choice):
		self.__b_id = get_random_bytes(HASH_LENGTH)
		check_data_type(v_id, bytes)
		check_bytes_length(v_id, HASH_LENGTH)
		self.__v_id = v_id
		self.__check_choice(choice)
		self.__choice = choice

	def __lt__(self, other):
		return self.__b_id < other.__b_id

	def get_b_id(self):
		return self.__b_id

	def get_v_id(self):
		return self.__v_id

	def get_choice(self):
		return self.__choice

	@staticmethod
	def __check_choice(choice):
		check_data_type(choice, int)
		if choice < 0:
			raise ValueError('номер варианта должен быть положительным целым числом')
